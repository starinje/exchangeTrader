{"version":3,"sources":["../src/logger.js"],"names":["logDir","tsFormat","Date","toLocaleTimeString","TIMESTAMP_FORMAT","existsSync","mkdirSync","logger","Logger","transports","Console","timestamp","utc","format","colorize","prettyPrint","level","process","env","NODE_ENV","File","filename","module","exports"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAAS,KAAf;AACA,IAAMC,WAAW,SAAXA,QAAW;AAAA,SAAO,IAAIC,IAAJ,EAAD,CAAaC,kBAAb,EAAN;AAAA,CAAjB;AACA,IAAMC,mBAAmB,cAAzB;;AAEA,IAAI,CAAC,aAAGC,UAAH,CAAcL,MAAd,CAAL,EAA4B;AAC1B,eAAGM,SAAH,CAAaN,MAAb;AACD;;AAED,IAAMO,SAAS,IAAK,kBAAQC,MAAb,CAAqB;AAClCC,cAAY,CACV,IAAK,kBAAQA,UAAR,CAAmBC,OAAxB,CAAiC;AAC/BC,eAAW;AAAA,mBAAU,iBAAOC,GAAP,GAAaC,MAAb,CAAoBT,gBAApB,CAAV;AAAA,KADoB;AAE/BU,cAAU,IAFqB;AAG/BC,iBAAa,IAHkB;AAI/BC,WAAOC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC,MAAxC,GAAiD;AAJzB,GAAjC,CADU,EAOV,IAAK,kBAAQV,UAAR,CAAmBW,IAAxB,CAA8B;AAC5BC,cAAarB,MAAb,iBAD4B;AAE5BW,eAAWV,QAFiB;AAG5Be,WAAO;AAHqB,GAA9B,CAPU;AADsB,CAArB,CAAf;;AAiBAM,OAAOC,OAAP,GAAiBhB,MAAjB","file":"logger.js","sourcesContent":["import winston from 'winston'\nimport fs from 'fs'\nimport moment from 'moment'\n\nconst logDir = 'log';\nconst tsFormat = () => (new Date()).toLocaleTimeString();\nconst TIMESTAMP_FORMAT = 'HH:mm:ss.SSS'\n\nif (!fs.existsSync(logDir)) {\n  fs.mkdirSync(logDir);\n}\n\nconst logger = new (winston.Logger)({\n  transports: [\n    new (winston.transports.Console)({\n      timestamp: () => `[${moment.utc().format(TIMESTAMP_FORMAT)}]`,\n      colorize: true,\n      prettyPrint: true,\n      level: process.env.NODE_ENV === 'production' ? 'info' : 'debug',\n  }),\n    new (winston.transports.File)({\n      filename: `${logDir}/results.log`,\n      timestamp: tsFormat,\n      level: 'info'\n    })\n  ]\n});\n\n\nmodule.exports = logger\n"]}